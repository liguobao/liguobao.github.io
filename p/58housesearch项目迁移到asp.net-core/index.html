<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="58HouseSearch项目迁移到asp.net core 58HouseSearch这个项目原本是基于ASP.NET MVC 4写的，开发环境是Windows+VS2015，发布平台是linux+mono+jexus，这样看来整个项目基本已经满足跨平台的需求。\n这样一来，本来我是没什么动力去做迁移的，好好的东西闲着没事干才迁移呢。\n不过，这不国庆了么？穷人不是在家穷游天下么？所以&mldr;真的有点闲着没事干了。\n迁移可行性探讨 项目迁移前，我们还是先来讨论一下迁移可行性。为嘛要进行可行性探讨呢？原因是.NET CORE是一个跨平台的框架，和上一代的.NET存在不兼容。\n个人总结一下，迁移的主要的问题在于：代码不兼容、类库不兼容、严重依赖Windows API或者COM组件等。\n代码不兼容 代码不兼容其实不算麻烦。毕竟代码是活的，你我也是活的，不就是一个改字罢了。花点时间慢慢改，总是能搞掂的。\n类库不兼容,要不就弃用，要不就找替代品。\n严重依赖Windows API或者COM组件\n额？找替代品，找不到可用替代品的话。放弃吧，这个项目别考虑迁移了。\n这个故事告诉我们，做跨平台项目的时候，少点用系统API或者组建。\n回到58HouseSearch项目上面。\n这个项目的代码基本都是我写的，所以重写代码没什么问题。 依赖的类库有下面几个:\nAngleSharp\nNewtonsoft.Json\nlog4net\nAngleSharp是用来解析HTML的类库，用linq的方式来操作HTML，用起来实在爽快。\n如果这货在.net core上不能跑，我应该立马放弃了。 不过，这个实在给力&mldr;\nNewtonsoft.Json\n在这个项目里面主要是用来记录PV数据的，非核心功能，可有可无。不过看了下nuget上的介绍，也是支持.net core的。\n剩下log4net&mldr;嗯，并不支持log4net。不过这个就更加是非核心内容了，直接丢了。 PS:考虑后期加入Nlog替代log4net。\n至于依赖Windows API之类的，在这个项目里面基本没有，所以略过&mldr;\n准备工作 Visual Studio Community 2015 with Update 3 – Free .NET Core SDK .NET Core .NET Core 1.0.1 - VS 2015 Tooling Preview 2 友情提示：\n"><title>58HouseSearch项目迁移到asp.net core</title><link rel=canonical href=https://liguobao.github.io/p/58housesearch%E9%A1%B9%E7%9B%AE%E8%BF%81%E7%A7%BB%E5%88%B0asp.net-core/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="58HouseSearch项目迁移到asp.net core"><meta property='og:description' content="58HouseSearch项目迁移到asp.net core 58HouseSearch这个项目原本是基于ASP.NET MVC 4写的，开发环境是Windows+VS2015，发布平台是linux+mono+jexus，这样看来整个项目基本已经满足跨平台的需求。\n这样一来，本来我是没什么动力去做迁移的，好好的东西闲着没事干才迁移呢。\n不过，这不国庆了么？穷人不是在家穷游天下么？所以&mldr;真的有点闲着没事干了。\n迁移可行性探讨 项目迁移前，我们还是先来讨论一下迁移可行性。为嘛要进行可行性探讨呢？原因是.NET CORE是一个跨平台的框架，和上一代的.NET存在不兼容。\n个人总结一下，迁移的主要的问题在于：代码不兼容、类库不兼容、严重依赖Windows API或者COM组件等。\n代码不兼容 代码不兼容其实不算麻烦。毕竟代码是活的，你我也是活的，不就是一个改字罢了。花点时间慢慢改，总是能搞掂的。\n类库不兼容,要不就弃用，要不就找替代品。\n严重依赖Windows API或者COM组件\n额？找替代品，找不到可用替代品的话。放弃吧，这个项目别考虑迁移了。\n这个故事告诉我们，做跨平台项目的时候，少点用系统API或者组建。\n回到58HouseSearch项目上面。\n这个项目的代码基本都是我写的，所以重写代码没什么问题。 依赖的类库有下面几个:\nAngleSharp\nNewtonsoft.Json\nlog4net\nAngleSharp是用来解析HTML的类库，用linq的方式来操作HTML，用起来实在爽快。\n如果这货在.net core上不能跑，我应该立马放弃了。 不过，这个实在给力&mldr;\nNewtonsoft.Json\n在这个项目里面主要是用来记录PV数据的，非核心功能，可有可无。不过看了下nuget上的介绍，也是支持.net core的。\n剩下log4net&mldr;嗯，并不支持log4net。不过这个就更加是非核心内容了，直接丢了。 PS:考虑后期加入Nlog替代log4net。\n至于依赖Windows API之类的，在这个项目里面基本没有，所以略过&mldr;\n准备工作 Visual Studio Community 2015 with Update 3 – Free .NET Core SDK .NET Core .NET Core 1.0.1 - VS 2015 Tooling Preview 2 友情提示：\n"><meta property='og:url' content='https://liguobao.github.io/p/58housesearch%E9%A1%B9%E7%9B%AE%E8%BF%81%E7%A7%BB%E5%88%B0asp.net-core/'><meta property='og:site_name' content='人生删除指南'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='asp.net core'><meta property='article:tag' content='58City'><meta property='article:tag' content><meta property='article:published_time' content='2016-10-04T00:00:00+00:00'><meta property='article:modified_time' content='2016-10-04T00:00:00+00:00'><meta name=twitter:title content="58HouseSearch项目迁移到asp.net core"><meta name=twitter:description content="58HouseSearch项目迁移到asp.net core 58HouseSearch这个项目原本是基于ASP.NET MVC 4写的，开发环境是Windows+VS2015，发布平台是linux+mono+jexus，这样看来整个项目基本已经满足跨平台的需求。\n这样一来，本来我是没什么动力去做迁移的，好好的东西闲着没事干才迁移呢。\n不过，这不国庆了么？穷人不是在家穷游天下么？所以&mldr;真的有点闲着没事干了。\n迁移可行性探讨 项目迁移前，我们还是先来讨论一下迁移可行性。为嘛要进行可行性探讨呢？原因是.NET CORE是一个跨平台的框架，和上一代的.NET存在不兼容。\n个人总结一下，迁移的主要的问题在于：代码不兼容、类库不兼容、严重依赖Windows API或者COM组件等。\n代码不兼容 代码不兼容其实不算麻烦。毕竟代码是活的，你我也是活的，不就是一个改字罢了。花点时间慢慢改，总是能搞掂的。\n类库不兼容,要不就弃用，要不就找替代品。\n严重依赖Windows API或者COM组件\n额？找替代品，找不到可用替代品的话。放弃吧，这个项目别考虑迁移了。\n这个故事告诉我们，做跨平台项目的时候，少点用系统API或者组建。\n回到58HouseSearch项目上面。\n这个项目的代码基本都是我写的，所以重写代码没什么问题。 依赖的类库有下面几个:\nAngleSharp\nNewtonsoft.Json\nlog4net\nAngleSharp是用来解析HTML的类库，用linq的方式来操作HTML，用起来实在爽快。\n如果这货在.net core上不能跑，我应该立马放弃了。 不过，这个实在给力&mldr;\nNewtonsoft.Json\n在这个项目里面主要是用来记录PV数据的，非核心功能，可有可无。不过看了下nuget上的介绍，也是支持.net core的。\n剩下log4net&mldr;嗯，并不支持log4net。不过这个就更加是非核心内容了，直接丢了。 PS:考虑后期加入Nlog替代log4net。\n至于依赖Windows API之类的，在这个项目里面基本没有，所以略过&mldr;\n准备工作 Visual Studio Community 2015 with Update 3 – Free .NET Core SDK .NET Core .NET Core 1.0.1 - VS 2015 Tooling Preview 2 友情提示：\n"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/zhihu-lgb_hu_b21b612b464d8faa.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>人生删除指南</a></h1><h2 class=site-description>liguobao</h2></div></header><ol class=menu-social><li><a href=https://github.com/liguobao target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/Liguobao2049 target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=https://www.zhihu.com/people/codelover target=_blank title=知乎 rel=me><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/liguobao-resume/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>About</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://liguobao.github.io/ selected>简体中文</option><option value=https://liguobao.github.io/english/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#迁移可行性探讨>迁移可行性探讨</a></li><li><a href=#代码不兼容>代码不兼容</a><ol><li><a href=#准备工作>准备工作</a></li><li><a href=#项目迁移>项目迁移</a><ol><li><a href=#新建空白aspnet-core项目>新建空白ASP.NET CORE项目</a></li><li><a href=#nuget获取引用>Nuget获取引用</a></li><li><a href=#添加controllers文件夹>添加Controllers文件夹</a></li><li><a href=#添加views文件夹>添加Views文件夹</a></li><li><a href=#静态文件处理>静态文件处理</a></li></ol></li><li><a href=#代码迁移>代码迁移</a><ol><li><a href=#startupcs添加mvc>Startup.cs添加MVC</a></li><li><a href=#改写gethtmlbyurl方法>改写GetHTMLByURL方法</a></li><li><a href=#改写controller代码>改写Controller代码</a></li></ol></li><li><a href=#发布到ubuntu>发布到ubuntu</a></li><li><a href=#projectjson里面隐藏的坑>project.json里面隐藏的坑</a><ol><li><a href=#dependencies>dependencies</a></li><li><a href=#publishoptions>publishOptions</a></li><li><a href=#runtimes>runtimes</a></li></ol></li><li><a href=#jexus转发反向代理>jexus转发/反向代理</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/58housesearch%E9%A1%B9%E7%9B%AE%E8%BF%81%E7%A7%BB%E5%88%B0asp.net-core/>58HouseSearch项目迁移到asp.net core</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Oct 04, 2016</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 3 分钟</time></div></footer></div></header><section class=article-content><h1 id=58housesearch项目迁移到aspnet-core>58HouseSearch项目迁移到asp.net core</h1><p><a class=link href=https://github.com/liguobao/58HouseSearch target=_blank rel=noopener>58HouseSearch</a>这个项目原本是基于ASP.NET MVC 4写的，开发环境是Windows+VS2015，发布平台是linux+mono+jexus，这样看来整个项目基本已经满足跨平台的需求。</p><p>这样一来，本来我是没什么动力去做迁移的，好好的东西闲着没事干才迁移呢。</p><p>不过，这不国庆了么？穷人不是在家穷游天下么？所以&mldr;真的有点闲着没事干了。</p><h2 id=迁移可行性探讨>迁移可行性探讨</h2><p>项目迁移前，我们还是先来讨论一下迁移可行性。为嘛要进行可行性探讨呢？原因是.NET CORE是一个跨平台的框架，和上一代的.NET存在不兼容。</p><p>个人总结一下，迁移的主要的问题在于：代码不兼容、类库不兼容、严重依赖Windows API或者COM组件等。</p><h2 id=代码不兼容>代码不兼容</h2><p>代码不兼容其实不算麻烦。毕竟代码是活的，你我也是活的，不就是一个改字罢了。花点时间慢慢改，总是能搞掂的。</p><ul><li><p>类库不兼容,要不就弃用，要不就找替代品。</p></li><li><p>严重依赖Windows API或者COM组件</p><p>额？找替代品，找不到可用替代品的话。放弃吧，这个项目别考虑迁移了。</p><p>这个故事告诉我们，做跨平台项目的时候，少点用系统API或者组建。</p></li></ul><p>回到58HouseSearch项目上面。</p><p>这个项目的代码基本都是我写的，所以重写代码没什么问题。
依赖的类库有下面几个:</p><ul><li><p><a class=link href=https://github.com/FlorianRappl/AngleSharp target=_blank rel=noopener>AngleSharp</a></p></li><li><p><a class=link href=http://www.newtonsoft.com/json target=_blank rel=noopener>Newtonsoft.Json</a></p></li><li><p><a class=link href=http://logging.apache.org/log4net/ target=_blank rel=noopener>log4net</a></p></li></ul><p>AngleSharp是用来解析HTML的类库，用linq的方式来操作HTML，用起来实在爽快。</p><p>如果这货在.net core上不能跑，我应该立马放弃了。
不过，这个实在给力&mldr;</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/1a950803-3d38-4b16-9761-6c9cd806b0b9 loading=lazy alt=AngleSharp支持平台></p><p>Newtonsoft.Json</p><p>在这个项目里面主要是用来记录PV数据的，非核心功能，可有可无。不过看了下nuget上的介绍，也是支持.net core的。</p><p>剩下log4net&mldr;嗯，并不支持log4net。不过这个就更加是非核心内容了，直接丢了。
PS:考虑后期加入Nlog替代log4net。</p><p>至于依赖Windows API之类的，在这个项目里面基本没有，所以略过&mldr;</p><h3 id=准备工作>准备工作</h3><ul><li><a class=link href=https://www.visualstudio.com/downloads/ target=_blank rel=noopener>Visual Studio Community 2015 with Update 3 – Free</a></li><li><a class=link href=https://www.microsoft.com/net/download target=_blank rel=noopener>.NET Core SDK</a></li><li><a class=link href=https://www.microsoft.com/net/download target=_blank rel=noopener>.NET Core</a></li><li><a class=link href="https://go.microsoft.com/fwlink/?LinkId=827546" target=_blank rel=noopener>.NET Core 1.0.1 - VS 2015 Tooling Preview 2</a></li></ul><p>友情提示：</p><ol><li>Visual Studio Community 2015 with Update 3 下载镜像来安装。</li></ol><p>错误操作如下：
<img src=http://7xread.com1.z0.glb.clouddn.com/1e723e08-b3d5-4dab-b4a6-1de70799c4c8 loading=lazy alt=错误操作></p><p>正确打开方式：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/706771d8-d3f2-4122-a61d-5e961887121a loading=lazy alt=正确的打开方式-1></p><p><img src=http://7xread.com1.z0.glb.clouddn.com/455ec5cc-b429-4563-a4fb-3a0c18608969 loading=lazy alt=正确的打开方式-2></p><ol start=2><li><p>安装.NET Core SDK和.NET Core之后再安装.NET Core 1.0.1 - VS 2015 Tooling Preview 2</p></li><li><p>安装.NET Core 1.0.1 - VS 2015 Tooling Preview 2 这货的可能会报错0x80072f8a未指定的错误</p></li></ol><p>解决方案见下图：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/47c517d1-4b48-4088-be4a-a0768413e768 loading=lazy alt=图片描述></p><p>详细见链接：<a class=link href=http://www.cnblogs.com/JiaoWoWeiZai/p/5892255.html target=_blank rel=noopener>安装DotNetCore.1.0.1-VS2015Tools.Preview2.0.2出现0x80072f8a未指定的错误</a></p><p>上面都弄好之后，理论上在VS2O15-新建项目里面可以看到ASP.NET CORE的模板了。如下图：
<img src=http://7xread.com1.z0.glb.clouddn.com/3364e7c9-a41e-47f2-8d08-60345e4efa35 loading=lazy alt="ASP.NET CORE的模板"></p><h3 id=项目迁移>项目迁移</h3><h4 id=新建空白aspnet-core项目>新建空白ASP.NET CORE项目</h4><p>新建好了之后如下图：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/e047d81d-56f1-4e51-9d72-7989e1fc6225 loading=lazy alt="空白ASP.NET CORE项目"></p><h4 id=nuget获取引用>Nuget获取引用</h4><p><a class=link href=https://www.nuget.org/packages/AngleSharp/ target=_blank rel=noopener>https://www.nuget.org/packages/AngleSharp/</a></p><p><a class=link href=https://www.nuget.org/packages/Newtonsoft.Json target=_blank rel=noopener>https://www.nuget.org/packages/Newtonsoft.Json</a></p><h4 id=添加controllers文件夹>添加Controllers文件夹</h4><p>然后把之前项目的Controllers拷贝过来，改掉命名空间，去掉无用代码，添加相应引用。</p><h4 id=添加views文件夹>添加Views文件夹</h4><p>本项目直接把之前项目的Views拷贝过来是完全没有问题的。</p><h4 id=静态文件处理>静态文件处理</h4><p>asp.net core MVC中的文件结构和asp.net mvc的文件结构略有不同。</p><p>asp.net core MVC在view中“IMG/Little/PaleGreen.png”对应的文件对应于“项目路径/webroot/IMG/Little/PaleGreen.png”；</p><p>而asp.net mvc中，对应路径为“项目/IMG/Little/PaleGreen.png”。</p><p>因而，我们的所有静态文件都应该放到：webroot文件夹下。</p><p>上面的都做完了之后，项目结构如下：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/2fee156b-2505-4953-bfe9-1d2521f13565 loading=lazy alt=项目结构></p><p>接下来就是改代码了。</p><h3 id=代码迁移>代码迁移</h3><h4 id=startupcs添加mvc>Startup.cs添加MVC</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>Startup</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// This method gets called by the runtime. Use this method to add services to the container.</span>
</span></span><span class=line><span class=cl>        <span class=c1>// For more information on how to configure your application, visit http://go.microsoft.com/fwlink/?LinkID=398940</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=k>void</span> <span class=n>ConfigureServices</span><span class=p>(</span><span class=n>IServiceCollection</span> <span class=n>services</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//添加MVC框架</span>
</span></span><span class=line><span class=cl>            <span class=n>services</span><span class=p>.</span><span class=n>AddMvc</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=k>void</span> <span class=n>Configure</span><span class=p>(</span><span class=n>IApplicationBuilder</span> <span class=n>app</span><span class=p>,</span> <span class=n>IHostingEnvironment</span> <span class=n>env</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>ILoggerFactory</span> <span class=n>loggerFactory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>loggerFactory</span><span class=p>.</span><span class=n>AddConsole</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>env</span><span class=p>.</span><span class=n>IsDevelopment</span><span class=p>())</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>app</span><span class=p>.</span><span class=n>UseDeveloperExceptionPage</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=c1>//启用静态文件中间件</span>
</span></span><span class=line><span class=cl>            <span class=n>app</span><span class=p>.</span><span class=n>UseStaticFiles</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=c1>//启动MVC路由</span>
</span></span><span class=line><span class=cl>            <span class=n>app</span><span class=p>.</span><span class=n>UseMvcWithDefaultRoute</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=c1>//设置默认页面</span>
</span></span><span class=line><span class=cl>            <span class=n>app</span><span class=p>.</span><span class=n>UseMvc</span><span class=p>(</span><span class=n>routes</span> <span class=p>=&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>routes</span><span class=p>.</span><span class=n>MapRoute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>name</span><span class=p>:</span> <span class=s>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>template</span><span class=p>:</span> <span class=s>&#34;{controller=House}/{action=Index}/{id?}&#34;</span><span class=p>);</span> 
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=改写gethtmlbyurl方法>改写GetHTMLByURL方法</h4><p>之前的方法：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/d005a100-e3e6-423b-b34c-3eae11b2ab63 loading=lazy alt="old GetHTMLByURL"></p><p>.net core重写了HttpWebRequest，变成了WebRequest,所以上面的代码废了。</p><p>重写如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl>        <span class=kd>public</span> <span class=kd>static</span> <span class=kt>string</span> <span class=n>GetHTMLByURL</span><span class=p>(</span><span class=kt>string</span> <span class=n>Url</span><span class=p>,</span> <span class=kt>string</span> <span class=n>type</span> <span class=p>=</span> <span class=s>&#34;UTF-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>Url</span> <span class=p>=</span> <span class=n>Url</span><span class=p>.</span><span class=n>ToLower</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=p>.</span><span class=n>Net</span><span class=p>.</span><span class=n>WebRequest</span> <span class=n>wReq</span> <span class=p>=</span> <span class=n>System</span><span class=p>.</span><span class=n>Net</span><span class=p>.</span><span class=n>WebRequest</span><span class=p>.</span><span class=n>Create</span><span class=p>(</span><span class=n>Url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=c1>// Get the response instance.</span>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=p>.</span><span class=n>Net</span><span class=p>.</span><span class=n>WebResponse</span> <span class=n>wResp</span> <span class=p>=</span> <span class=n>wReq</span><span class=p>.</span><span class=n>GetResponseAsync</span><span class=p>().</span><span class=n>Result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=p>.</span><span class=n>IO</span><span class=p>.</span><span class=n>Stream</span> <span class=n>respStream</span> <span class=p>=</span> <span class=n>wResp</span><span class=p>.</span><span class=n>GetResponseStream</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=k>using</span> <span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=n>IO</span><span class=p>.</span><span class=n>StreamReader</span> <span class=n>reader</span> <span class=p>=</span> <span class=k>new</span> <span class=n>System</span><span class=p>.</span><span class=n>IO</span><span class=p>.</span>
</span></span><span class=line><span class=cl>                <span class=n>StreamReader</span><span class=p>(</span><span class=n>respStream</span><span class=p>,</span> <span class=n>Encoding</span><span class=p>.</span><span class=n>GetEncoding</span><span class=p>(</span><span class=n>type</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=n>reader</span><span class=p>.</span><span class=n>ReadToEnd</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>catch</span> <span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=n>Exception</span> <span class=n>ex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kt>string</span><span class=p>.</span><span class=n>Empty</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=改写controller代码>改写Controller代码</h4><p>嗯，换了命名空间，别的一句都没改直接拉过来了&mldr;略过。</p><h3 id=发布到ubuntu>发布到ubuntu</h3><p><a class=link href=https://www.microsoft.com/net/core#ubuntu target=_blank rel=noopener>Install for Ubuntu 14.04, 16.04 & Linux Mint 17</a></p><p>第一步</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>//Ubuntu 14.04 / Linux Mint <span class=m>17</span>
</span></span><span class=line><span class=cl>sudo sh -c <span class=s1>&#39;echo &#34;deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main&#34; &gt; /etc/apt/sources.list.d/dotnetdev.list&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//Ubuntu 16.04
</span></span><span class=line><span class=cl>sudo sh -c <span class=s1>&#39;echo &#34;deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ xenial main&#34; &gt; /etc/apt/sources.list.d/dotnetdev.list&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span></code></pre></td></tr></table></div></div><p>第二步</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo apt-get install dotnet-dev-1.0.0-preview2-003131
</span></span></code></pre></td></tr></table></div></div><p>安装好了之后，输入 dotnet -v 应该能看到版本信息，如下图：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/6ebca12e-2be9-487e-b230-d22562a5aabe loading=lazy alt="dotnet -v "></p><p>这样的下，一句完成了ubuntu 运行asp.net core的环境搭建了。</p><h3 id=projectjson里面隐藏的坑>project.json里面隐藏的坑</h3><h4 id=dependencies>dependencies</h4><p>NET Core 1.0.1 - VS 2015 Tooling Preview 2模板的asp.net core 版本和ubuntu 的asp.net core 版本不一致。</p><p>根据微软爸给的教程，我们在ubuntu上安装的.NET Core 1.0.0，见上图。</p><p>然而我们创建项目的模板是.NET Core 1.0.1，见下图:</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/a3192bdf-f548-4fad-868a-4865632acd29 loading=lazy alt=".NET Core 1.0.1"></p><p>怎么办？要不升级ubuntu的asp.net core，要不降级。</p><p>由于没找到.NET Core 1.0.1 ubuntu的安装包，所以我选择了降级到.NET Core 1.0.0.</p><p>其中需要把Microsoft.NETCore.App version 、Microsoft.AspNetCore.Server.Kestrel、Microsoft.AspNetCore.Mvc 这三个节点都改成“1.0.0”。如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>  <span class=s2>&#34;dependencies&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.NETCore.App&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;platform&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.AspNetCore.Diagnostics&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.AspNetCore.Server.IISIntegration&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.AspNetCore.Server.Kestrel&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.Extensions.Logging.Console&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.AspNetCore.Mvc&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Microsoft.AspNetCore.StaticFiles&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Newtonsoft.Json&#34;</span><span class=p>:</span> <span class=s2>&#34;9.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;AngleSharp&#34;</span><span class=p>:</span> <span class=s2>&#34;0.9.8.1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span><span class=err>,</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=publishoptions>publishOptions</h4><p>发布输出包括Views文件夹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>  <span class=s2>&#34;publishOptions&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;include&#34;</span>: <span class=o>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;wwwroot&#34;</span>,
</span></span><span class=line><span class=cl>      <span class=s2>&#34;web.config&#34;</span>,
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Views&#34;</span>
</span></span><span class=line><span class=cl>    <span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>,
</span></span></code></pre></td></tr></table></div></div><h4 id=runtimes>runtimes</h4><p>runtimes 配置为模板运行平台。
详细见链接：<a class=link href=https://docs.nuget.org/ndocs/schema/project.json target=_blank rel=noopener>https://docs.nuget.org/ndocs/schema/project.json</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>  <span class=s2>&#34;runtimes&#34;</span><span class=err>:</span> <span class=p>{</span> <span class=nt>&#34;ubuntu.14.04-x64&#34;</span><span class=p>:</span> <span class=p>{}</span> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>上面都弄好之后，跑一下看,如下图：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>dotnet restore
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>dotnet run
</span></span></code></pre></td></tr></table></div></div><p>来个请求看看：</p><p><img src=http://7xread.com1.z0.glb.clouddn.com/b1191226-c33b-45c7-98cc-f62bb3ea73b4 loading=lazy alt=请求log></p><h3 id=jexus转发反向代理>jexus转发/反向代理</h3><p><a class=link href=http://www.cnblogs.com/gaobing/p/5663012.html target=_blank rel=noopener>ASP.NET Core &ldquo;完整发布,自带运行时&rdquo; 到jexus</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/asp.net-core/>ASP.NET Core</a>
<a href=/tags/58city/>58City</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/58%E5%90%8C%E5%9F%8E%E9%AB%98%E5%BE%B7%E6%90%9C%E6%88%BF%E9%A1%B9%E7%9B%AEjs%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/><div class=article-details><h2 class=article-title>58同城高德搜房项目JS相关知识</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=liguobao/liguobao.github.io issue-term=title crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 人生删除指南</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>