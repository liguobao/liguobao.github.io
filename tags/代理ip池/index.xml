<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>代理IP池 on 人生删除指南</title><link>https://liguobao.github.io/tags/%E4%BB%A3%E7%90%86ip%E6%B1%A0/</link><description>Recent content in 代理IP池 on 人生删除指南</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 17 Sep 2025 08:00:00 +0000</lastBuildDate><atom:link href="https://liguobao.github.io/tags/%E4%BB%A3%E7%90%86ip%E6%B1%A0/index.xml" rel="self" type="application/rss+xml"/><item><title>如何搭建你的IP代理池2025版</title><link>https://liguobao.github.io/p/how-to-build-your-ip-proxy/</link><pubDate>Wed, 17 Sep 2025 08:00:00 +0000</pubDate><guid>https://liguobao.github.io/p/how-to-build-your-ip-proxy/</guid><description>&lt;img src="https://liguobao.github.io/p/how-to-build-your-ip-proxy/logo.png" alt="Featured image of post 如何搭建你的IP代理池2025版" /&gt;&lt;p&gt;在进行网络爬虫、数据采集等任务时，使用IP代理池可以有效地隐藏真实IP，避免被目标网站封禁。&lt;/p&gt;
&lt;p&gt;本文将介绍如何搭建一个简单的IP代理池。&lt;/p&gt;
&lt;h2 id="1-准备工作"&gt;1. 准备工作
&lt;/h2&gt;&lt;p&gt;在开始之前，确保你有一台拨号VPS（虚拟专用服务器）。&lt;/p&gt;
&lt;p&gt;拨号VPS的价格基本是几十块到百来块不等，可选的系统是Windows Or Linux。&lt;/p&gt;
&lt;p&gt;VPS 服务商交付之前基本会帮你配置好拨号环境，简单使用pppoe 命令即可重播。&lt;/p&gt;
&lt;h2 id="2-搭建代理服务器"&gt;2. 搭建代理服务器
&lt;/h2&gt;&lt;p&gt;一般不会直接在VPS上暴露代理服务，因为这玩意基本是不给你公网IP的。&lt;/p&gt;
&lt;p&gt;于是，我们需要一个代理服务器来中转流量。&lt;/p&gt;
&lt;p&gt;与此同时，需要一套“代理服务器软件”对内连接拨号VPS，对外提供代理服务。&lt;/p&gt;
&lt;p&gt;这里我们使用的 &lt;a class="link" href="https://github.com/yint-tech/majora-open" target="_blank" rel="noopener"
&gt;majora3 proxy server&lt;/a&gt; 用来搭建我们的代理服务器。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Majora 是一套完整的代理 ip 建设集群方案，为代理 IP 池供应链系统，&lt;/p&gt;
&lt;p&gt;如果您拥有大批量的可以上网的网络设备（VPS 服务器、路由器设备、手机等移动设备），&lt;/p&gt;
&lt;p&gt;那么你可以使用这些网络设备方便的构建您的代理 IP 池。&lt;/p&gt;
&lt;p&gt;Majora 可以满足的应用场景如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;您是代理 ip 供应商，拥有大量 VPS 节点，则你可以通过 Majora 快速搭建您的代理 IP 池&lt;/li&gt;
&lt;li&gt;您可以将 Majora 终端程序刷入到路由器等网络设备中，则您可以通过 Majora 构建您的家庭 ip 资源池或者 ADSL IP 资源池&lt;/li&gt;
&lt;li&gt;您可以安装 Majora 的 apk，或者使用 Majora 的 sdk 集成到手机程序中，则您可以通过 Majora 快速搭建您的手机出口 IP 资源池(如果您的手机有 root，那么还可以拥有定时重播的功能)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="majora-功能特点"&gt;Majora 功能特点
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;使用简单：所有终端节点都是一键安装即可接入代理 ip 集群，无需服务器复杂的参数配置&lt;/li&gt;
&lt;li&gt;多供应商和采购商概念：您可以让多个持有网络设备的供应商同时接入 Majora 系统，同时可以让多个 ip 使用方接入 Majora 的 IP 资源。Majora 记录了每个供应者和消费者的详细账单流水，您可以根据流水对供应商和采购商进行费用结算&lt;/li&gt;
&lt;li&gt;协议完整：本系统完整支持 http/https/socks5 代理协议，所有代理端口均自动识别代理协议。无需用户手动选择端口&lt;/li&gt;
&lt;li&gt;ip 质量可靠性：Majora 暴露端口范围，以隧道代理的方式提供服务。并提供内存级别的 IP 资源失败路由功能。除极少情况（被中断请求中的链接），Majora 保证供应端每个代理端口均可提供对等的稳定代理服务。永远不会出现代理链接不上，或者连接上无法使用的情况&lt;/li&gt;
&lt;li&gt;多网络设备支持：支持服务器（VPS)、手机、路由器、PC(普通 windows 或者 mac 电脑)&lt;/li&gt;
&lt;li&gt;高并发和高带宽：NIO 框架天然支持非常高的吞吐，且 Majora 的前序系统(Rogue)已经经过单节点百M 的带宽压力&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="majora3-server-安装"&gt;majora3 server 安装
&lt;/h2&gt;&lt;h3 id="docker-方式安装"&gt;docker 方式安装
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 安装docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;yum install -y docker
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 下载镜像:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker pull registry.cn-beijing.aliyuncs.com/iinti/majora3:all-in-one
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 启动majora服务器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker run -d --network host -v ~/majora3-mysql-data:/var/lib/mysql registry.cn-beijing.aliyuncs.com/iinti/majora3:all-in-one
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;## all-in-one镜像包含了majora3 server和mysql数据库，数据保存在宿主机的~/majora3-mysql-data目录下&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="测试是否部署成功"&gt;测试是否部署成功
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl http://127.0.0.1:6879/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;访问网站： http://你的IP:Web服务端口 如(http://127.0.0.1:6879/)[http://127.0.0.1:6879/],&lt;/p&gt;
&lt;p&gt;首次打开网站请注册账户，第一个注册账户将会成为管理员,&lt;/p&gt;
&lt;p&gt;注册完成后记得设置”代理鉴权账号密码“, 如 admin/admin&lt;/p&gt;
&lt;p&gt;若成功打开网站，完成账户注册，则代表部署完成&lt;/p&gt;
&lt;h3 id="生产环境部署"&gt;生产环境部署
&lt;/h3&gt;&lt;p&gt;生产环境数据一般使用云端RDS等数据库，避免单点故障。&lt;/p&gt;
&lt;p&gt;Majora 使用 java 开发，并且使用 mysql 作为数据库,&lt;/p&gt;
&lt;p&gt;如果你想手动部署 Majora，则需要手动完全 java 和 mysql 的安装，之后进行相关配置&lt;/p&gt;
&lt;h4 id="安装准备"&gt;安装准备
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://github.com/yint-tech/majora-open/releases" target="_blank" rel="noopener"
&gt;下载安装包&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;安装 jdk17&lt;/li&gt;
&lt;li&gt;安装 mysql，或者购买 mysql 服务&lt;/li&gt;
&lt;li&gt;配置和初始化&lt;/li&gt;
&lt;li&gt;解压安装包&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;数据库配置初始化配置在:assets/ddl.sql,请根据本 sql 文件进行数据库建表初始化&lt;/p&gt;
&lt;p&gt;conf 文件夹的相关配置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;项目使用 springboot，其中项目可选配置在 conf/application.properties，请在这里配置您的数据库链接信息（数据库为您上一步完成的 mysql 安装和数据库配置）&lt;/li&gt;
&lt;li&gt;conf/static/*为前端资源，如果你想替换前端网页皮肤，则可以替换这里的内容 majora 前端是开源的，支持二开的&lt;/li&gt;
&lt;li&gt;conf/static/majora-doc/*为文档资源，如果你想修改文档内容，则可以编辑这里&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="运行"&gt;运行
&lt;/h4&gt;&lt;p&gt;执行bin/startup.sh (如果是 windows，那么执行 xxx.bat 即可)&lt;/p&gt;
&lt;p&gt;观察日志是否正常&lt;/p&gt;
&lt;h3 id="3-majora-客户端接入vps"&gt;3. majora 客户端接入VPS
&lt;/h3&gt;&lt;p&gt;登录majora admin 后台后，在右侧菜单中选择“终端下载”，下载对应版本终端。&lt;/p&gt;
&lt;p&gt;目前支持的版本有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows 版（windows_amd64_v3）&lt;/li&gt;
&lt;li&gt;Linux 版（linux_amd64_v3）&lt;/li&gt;
&lt;li&gt;Android 版（android_all）&lt;/li&gt;
&lt;li&gt;路由器版（linux_mipsle_softfloat）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根据不同的芯片架构版本选择下载即可。&lt;/p&gt;
&lt;p&gt;以下我们以Linux版本为例。&lt;/p&gt;
&lt;p&gt;下载&lt;a class="link" href="https://majora3.iinti.cn/client/go/majora3_linux_amd64_v3.tar.gz" target="_blank" rel="noopener"
&gt;majora3_linux_amd64_v3.tar.gz&lt;/a&gt;到本地，解压。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;修改 majora.toml 配置文件中的 tunnel_addr 地址为你的 majora3 server 地址，&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改 client_id 为你的终端唯一ID（在 majora admin 后台的“终端管理”中可以看到）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;group&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;majora3&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;extra&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;zone_de&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;client_id&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;helloworld&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;tunnel_addr&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;majora3.iinti.cn:6879&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;#tunnel_addr = &amp;#34;majora3.iinti.cn:6879&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# trace/debug/info/error/fatal/disabled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;log_level&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;info&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;redial&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# 执行脚本的shell bash/ash/cmd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;command&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;bash&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c"&gt;# 脚本完整路径&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;exec_path&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/root/majora3/ppp.sh&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;重打包成majora3_linux_amd64_v3.tar.gz, 然后上传到你的VPS上。&lt;/p&gt;
&lt;p&gt;直接登录到VPS测，解压后执行 systemd.sh, 自动安装成 systemd 服务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;tar zxvf majora3_linux_amd64_v3.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; majora3_linux_amd64_v3
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;./systemd.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;没问题的情况下，majora client 会连接到 majora server, 并且在“终端管理”中可以看到你的终端。&lt;/p&gt;
&lt;p&gt;同时，程序会自动接管设备pppoe拨号，定时重拨。&lt;/p&gt;
&lt;h3 id="4-使用代理ip"&gt;4. 使用代理IP
&lt;/h3&gt;&lt;p&gt;完成以上步骤后，你的代理IP池就搭建完成了。&lt;/p&gt;
&lt;p&gt;这个时候需要在majora admin 中建立IP池，并将VPS设备添加到池中。&lt;/p&gt;
&lt;p&gt;IP池列表&lt;/p&gt;
&lt;p&gt;-&amp;gt; 创建IP池&lt;/p&gt;
&lt;p&gt;-&amp;gt; 选择“IP池类型” + 设定端口&lt;/p&gt;
&lt;p&gt;-&amp;gt; 设备列表&lt;/p&gt;
&lt;p&gt;-&amp;gt; 添加设备&lt;/p&gt;
&lt;p&gt;-&amp;gt; 保存&lt;/p&gt;
&lt;p&gt;创建完成后，可以在“IP池列表”中看到你创建的IP池。&lt;/p&gt;
&lt;p&gt;然后使用设定的端口进行测试。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -x majora:majora3@majora3.iinti.cn:6879 https://www.baidu.com/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -x majora:majora3@majora3.iinti.cn:6879 https://myip.ipip.net
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item></channel></rss>